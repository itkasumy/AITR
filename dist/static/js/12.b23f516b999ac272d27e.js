webpackJsonp([12],{"B+Sm":function(e,t){},QgW0:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("JBQq"),i=s("3/Gx"),o=s("0azi"),f={data:function(){return{maskShow:!1,tip:"",safecode:"",cfmSafecode:"",verifySafePwd:""}},components:{HeadMenu:i.a,Prompt:o.a},methods:{changeUserSafePwd:function(){var e=this;if(!this.verifySafePwd)return this.tip="当前安全码不能为空",void this.$refs.promptRef.show();if(!/^[a-zA-Z0-9]{8,16}$/.test(this.verifySafePwd))return this.tip="只能输入8-16位的数字或字母",void this.$refs.promptRef.show();var t=this.$refs.safecode.value,s=this.$refs.verifySafecode.value,i=this.$refs.verifySafePwd.value,o=new URLSearchParams,f=new URLSearchParams;o.append("safe_pwd",i),Object(a.o)(o).then(function(i){if(40011===i.data.code)return e.tip="会员安全码错误",void e.$refs.promptRef.show();var o=i.data.result.safePwdToken;f.append("safe_pwd",s),f.append("safe_pwd_token",o),console.log(f),t===s&&Object(a.m)(f).then(function(t){40011===t.data.code&&(e.tip="会员安全码错误",e.$refs.promptRef.show()),40013===t.data.code&&(e.tip="安全码修改失败",e.$refs.promptRef.show()),0===t.data.code&&(e.tip=t.data.msg,e.$refs.promptRef.show()),e.maskShow=!1,e.$refs.verifySafePwd.value=""})})},cancel:function(){this.maskShow=!1,this.$refs.verifySafePwd.value=""},getVerifySafePwd:function(){return this.safecode?/^[a-zA-Z0-9]{8,16}$/.test(this.safecode)?this.cfmSafecode?this.cfmSafecode!==this.safecode?(this.tip="两次安全码输入不一致",void this.$refs.promptRef.show()):void(this.maskShow=!0):(this.tip="确认新安全码不能为空",void this.$refs.promptRef.show()):(this.tip="只能输入8-16位的数字或字母",void this.$refs.promptRef.show()):(this.tip="新安全码不能为空",void this.$refs.promptRef.show())},checkSafecode:function(e){e?/^[a-zA-Z0-9]{8,16}$/.test(e)||(this.tip="安全码只能输入8-16位的数字或者字母",this.$refs.promptRef.show()):(this.tip="安全码不能为空",this.$refs.promptRef.show())},checkCfmSafecode:function(e){e?e!==this.safecode&&(this.tip="两次安全码输入不一致",this.$refs.promptRef.show()):(this.tip="新的安全码不能为空",this.$refs.promptRef.show())},checkVerifySafePwd:function(e){e?/^[a-zA-Z0-9]{8,16}$/.test(e)||(this.tip="只能输入8-16位的数字或字母",this.$refs.promptRef.show()):(this.tip="当前安全码不能为空",this.$refs.promptRef.show())}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"changepwd"},[s("HeadMenu"),e._v(" "),s("form",{attrs:{action:""},on:{submit:function(t){t.preventDefault(),e.getVerifySafePwd(t)}}},[s("div",{staticClass:"form-content"},[s("div",{staticClass:"m-input"},[s("div",{staticClass:"title"},[e._v("新的安全码:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.safecode,expression:"safecode"}],ref:"safecode",attrs:{type:"password",name:"account",placeholder:"输入新的安全码"},domProps:{value:e.safecode},on:{blur:function(t){e.checkSafecode(e.safecode)},input:function(t){t.target.composing||(e.safecode=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"m-input"},[s("div",{staticClass:"title"},[e._v("确认新安全码:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.cfmSafecode,expression:"cfmSafecode"}],ref:"verifySafecode",attrs:{type:"password",placeholder:"再次输入新安全码"},domProps:{value:e.cfmSafecode},on:{blur:function(t){e.checkCfmSafecode(e.cfmSafecode)},input:function(t){t.target.composing||(e.cfmSafecode=t.target.value)}}})])]),e._v(" "),e._m(0)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.maskShow,expression:"maskShow"}],staticClass:"mask"},[s("div",{staticClass:"alert-content"},[s("div",{staticClass:"title"},[e._v("输入当前安全码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.verifySafePwd,expression:"verifySafePwd"}],ref:"verifySafePwd",staticClass:"confirmpwd",attrs:{type:"password",placeholder:"输入您的当前安全码"},domProps:{value:e.verifySafePwd},on:{blur:function(t){e.checkVerifySafePwd(e.verifySafePwd)},input:function(t){t.target.composing||(e.verifySafePwd=t.target.value)}}}),e._v(" "),s("div",{staticClass:"decision"},[s("div",{staticClass:"cancel",on:{click:e.cancel}},[e._v("取消")]),e._v(" "),s("div",{staticClass:"decide",on:{click:e.changeUserSafePwd}},[e._v("确定")])])])]),e._v(" "),s("prompt",{ref:"promptRef",attrs:{tip:e.tip}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"submit"},[t("input",{attrs:{type:"submit",value:"确定"}})])}]};var c=s("Z0/y")(f,r,!1,function(e){s("B+Sm")},"data-v-c4dbf08e",null);t.default=c.exports}});
//# sourceMappingURL=12.b23f516b999ac272d27e.js.map