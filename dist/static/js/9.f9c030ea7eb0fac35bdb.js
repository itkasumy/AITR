webpackJsonp([9],{"4oaQ":function(t,e){},hsdw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("3/Gx"),a=s("0azi"),r=s("zZ4r"),n=s("2sCs"),i=s.n(n),l=s("sC4j"),f={data:function(){return{title:"",walletData:{consumptionCoin:0,crowdfundingCoin:0,earningsCoin:0,reconstructionCoin:0,registerCoin:0,splitCoin:0},showSafeCodeAlert:!1,safeCode:null,alertStyle:{height:".8rem",width:"6.293333rem",color:"#ABABAB",border:".013333rem solid #CCCCCC",fontSzie:".32rem",paddingLeft:".133333rem"},transformInfo:{userId:null,coinNum:null},showTip:!1,tip:""}},created:function(){var t=this,e=parseInt(this.$route.params.typeid);0===e?this.title="注册币":1===e&&(this.title="收益币"),i.a.get(r.b,{headers:Object(r.f)()}).then(function(e){console.log(e),0===e.data.code&&(t.walletData=e.data.result)})},components:{HeadMenu:o.a,GAlert:l.a,Prompt:a.a},methods:{callbackUrl:function(){this.$router.go(-1)},safeCodeOptions:function(t){var e=this;if(console.log(t),this.showSafeCodeAlert=!1,"cancal"===t);else{if(!this.safeCode)return this.tip="安全码不能为空",void this.$refs.promptAlert.show();console.log("你输入的安全码是"+this.safeCode);var s=new URLSearchParams;s.append("safe_pwd",this.safeCode),i.a.post(r.a,s,{headers:Object(r.f)()}).then(function(t){if(console.log(t.data),0===t.data.code){var s=t.data.result.safePwdToken,o=null;"注册币"===e.title?o=r.o:"收益币"===e.title&&(o=r.n);var a=new URLSearchParams;a.append("transfer_account",e.transformInfo.userId),a.append("amount",parseInt(e.transformInfo.coinNum)),a.append("safe_pwd_token",s),i.a.post(o,a,{headers:Object(r.f)()}).then(function(t){if(console.log(t),0===t.data.code)e.tip="转账成功",e.$refs.promptAlert.show(),e.$router.push("/coininfo/"+e.$route.params.typeid);else{if(40009===t.data.code)return e.tip="输入的会员编号不存在",void e.$refs.promptAlert.show();e.tip="转账失败",e.$refs.promptAlert.show()}})}else e.safeCode="",e.tip="安全码输入错误",e.$refs.promptAlert.show()})}},comfirmTransfer:function(){if(!this.transformInfo.userId)return this.tip="会员编号不能为空",void this.$refs.promptAlert.show();this.transformInfo.coinNum?/^[0-9]*[1-9][0-9]*$/.test(this.transformInfo.coinNum)&&0!==this.transformInfo.coinNum?this.transformInfo.coinNum>this.walletData.registerCoin?this.$refs.promptAlert.show("注册币余额不足"):this.transformInfo.coinNum>=1e8?this.$refs.promptAlert.show("转出积分数量不能超出1亿"):this.showSafeCodeAlert=!0:this.$refs.promptAlert.show("转出数量只能为正整数"):this.$refs.promptAlert.show("转账积分数量不能为空")},checkIntegral:function(t){t?/^[0-9]*[1-9][0-9]*$/.test(t)&&0!==t?t>this.walletData.registerCoin?this.$refs.promptAlert.show("注册币余额不足"):t>=1e8&&this.$refs.promptAlert.show("转出积分数量不能超出1亿"):this.$refs.promptAlert.show("转出数量只能为正整数"):this.$refs.promptAlert.show("转账积分数量不能为空")}}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"earning-transfer"},[o("head-menu"),t._v(" "),o("div",{staticClass:"content"},[o("div",{staticClass:"top"},[o("span",[t._v(t._s(t.title)+"转账")])]),t._v(" "),o("div",{staticClass:"center"},[o("div",{staticClass:"tips"},[t._v("\n\t\t\t\t注册币余额:\n\t\t\t")]),t._v(" "),o("div",{staticClass:"values"},[t._v("\n\t\t\t\t"+t._s(t.walletData.registerCoin)+"\n\t\t\t")]),t._v(" "),o("div",{staticClass:"tips"},[t._v("\n\t\t\t\t收益币余额:\n\t\t\t")]),t._v(" "),o("div",{staticClass:"values"},[t._v("\n\t\t\t\t"+t._s(t.walletData.earningsCoin)+"\n\t\t\t")]),t._v(" "),o("div",{staticClass:"tips"},[t._v("\n\t\t\t\t转出积分类型:\n\t\t\t")]),t._v(" "),o("div",{staticClass:"values other"},[o("span",[t._v(t._s(t.title)+" -> 注册币")]),t._v(" "),o("img",{attrs:{src:s("T2RY"),alt:""}})]),t._v(" "),o("div",{staticClass:"tips"},[t._v("\n\t\t\t\t接收会员编号:\n\t\t\t")]),t._v(" "),o("div",{staticClass:"valuess"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.transformInfo.userId,expression:"transformInfo.userId"}],attrs:{type:"text",placeholder:"输入收款会员编号"},domProps:{value:t.transformInfo.userId},on:{input:function(e){e.target.composing||t.$set(t.transformInfo,"userId",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"tips"},[t._v("\n\t\t\t\t转让积分数量:\n\t\t\t")]),t._v(" "),o("div",{staticClass:"valuess"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.transformInfo.coinNum,expression:"transformInfo.coinNum"}],attrs:{type:"number",placeholder:"转入转出积分数量"},domProps:{value:t.transformInfo.coinNum},on:{blur:function(e){t.checkIntegral(t.transformInfo.coinNum)},input:function(e){e.target.composing||t.$set(t.transformInfo,"coinNum",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"bottom"},[o("span",{staticClass:"back",on:{click:t.callbackUrl}},[t._v("返回")]),t._v(" "),o("span",{staticClass:"oks",on:{click:t.comfirmTransfer}},[t._v("确定")])])]),t._v(" "),o("g-alert",{directives:[{name:"show",rawName:"v-show",value:t.showSafeCodeAlert,expression:"showSafeCodeAlert"}],on:{options:t.safeCodeOptions}},[o("div",{staticClass:"tipss"},[t._v("\n\t\t\t输入安全码\n\t\t")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.safeCode,expression:"safeCode"}],style:t.alertStyle,attrs:{type:"password",placeholder:"输入您的安全码"},domProps:{value:t.safeCode},on:{input:function(e){e.target.composing||(t.safeCode=e.target.value)}}})])]),t._v(" "),o("prompt",{ref:"promptAlert",attrs:{tip:t.tip}})],1)},staticRenderFns:[]};var p=s("Z0/y")(f,c,!1,function(t){s("4oaQ")},"data-v-ddba7522",null);e.default=p.exports}});
//# sourceMappingURL=9.f9c030ea7eb0fac35bdb.js.map