webpackJsonp([23],{"3usD":function(t,e){},VyjI:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("JBQq"),o=s("3/Gx"),a=s("0azi"),r={data:function(){return{maskShow:!1,pwd:"",cfmPwd:"",tip:"",confirmPwd:""}},components:{HeadMenu:o.a,Prompt:a.a},methods:{changeUserPwd:function(){var t=this;if(!this.confirmPwd)return this.tip="当前密码不能为空",void this.$refs.promptRef.show();if(!/^[a-zA-Z0-9]{8,16}$/.test(this.confirmPwd))return this.tip="只能输入8-16位的数字或字母",void this.$refs.promptRef.show();var e=this.$refs.verifyPwd.value,s=this.$refs.confirmPwd.value,o=new URLSearchParams,a=new URLSearchParams;o.append("pwd",s),Object(i.m)(o).then(function(s){if(40009===s.data.code)return t.tip="会员密码错误",void t.$refs.promptRef.show();if(400010===s.data.code)return t.tip=s.data.msg,void t.$refs.promptRef.show();var o=s.data.result.pwdToken;a.append("pwd",e),a.append("pwd_token",o),Object(i.k)(a).then(function(e){40009===e.data.code&&(t.tip="会员密码错误",t.$refs.promptRef.show()),40012===e.data.code&&(t.tip="密码修改失败",t.$refs.promptRef.show()),0===e.data.code&&(t.tip=e.data.msg,t.$refs.promptRef.show()),t.maskShow=!1,t.$refs.confirmPwd.value=""})})},cancel:function(){this.maskShow=!1,this.$refs.confirmPwd.value=""},getVerifySafePwd:function(){return this.pwd?/^[a-zA-Z0-9]{8,16}$/.test(this.pwd)?this.cfmPwd?this.cfmPwd!==this.pwd?(this.tip="两次密码输入不一致",void this.$refs.promptRef.show()):void(this.maskShow=!0):(this.tip="确认新密码不能为空",void this.$refs.promptRef.show()):(this.tip="只能输入8-16位的数字或字母",void this.$refs.promptRef.show()):(this.tip="新密码不能为空",void this.$refs.promptRef.show())},checkPwd:function(t){t?/^[a-zA-Z0-9]{8,16}$/.test(t)||(this.tip="只能输入8-16位的数字或字母",this.$refs.promptRef.show()):(this.tip="新密码不能为空",this.$refs.promptRef.show())},checkCfmPwd:function(t){t?t!==this.pwd&&(this.tip="两次密码输入不一致",this.$refs.promptRef.show()):(this.tip="确认新密码不能为空",this.$refs.promptRef.show())},checkConfirmPwd:function(t){t?/^[a-zA-Z0-9]{8,16}$/.test(t)||(this.tip="只能输入8-16位的数字或字母",this.$refs.promptRef.show()):(this.tip="当前密码不能为空",this.$refs.promptRef.show())}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"changepwd"},[s("HeadMenu"),t._v(" "),s("form",{attrs:{action:""},on:{submit:function(e){e.preventDefault(),t.getVerifySafePwd(e)}}},[s("div",{staticClass:"form-content"},[s("div",{staticClass:"m-input"},[s("div",{staticClass:"title"},[t._v("新的密码:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],ref:"pwd",attrs:{type:"password",name:"pwd",placeholder:"输入新的密码"},domProps:{value:t.pwd},on:{blur:function(e){t.checkPwd(t.pwd)},input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"m-input"},[s("div",{staticClass:"title"},[t._v("确认新密码:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cfmPwd,expression:"cfmPwd"}],ref:"verifyPwd",attrs:{type:"password",placeholder:"再次输入新密码"},domProps:{value:t.cfmPwd},on:{blur:function(e){t.checkCfmPwd(t.cfmPwd)},input:function(e){e.target.composing||(t.cfmPwd=e.target.value)}}})])]),t._v(" "),t._m(0)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.maskShow,expression:"maskShow"}],staticClass:"mask"},[s("div",{staticClass:"alert-content"},[s("div",{staticClass:"title"},[t._v("输入当前密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPwd,expression:"confirmPwd"}],ref:"confirmPwd",staticClass:"confirmpwd",attrs:{type:"password",placeholder:"输入您的当前密码"},domProps:{value:t.confirmPwd},on:{blur:function(e){t.checkConfirmPwd(t.confirmPwd)},input:function(e){e.target.composing||(t.confirmPwd=e.target.value)}}}),t._v(" "),s("div",{staticClass:"decision"},[s("div",{staticClass:"cancel",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),s("div",{staticClass:"decide",on:{click:t.changeUserPwd}},[t._v("确定")])])])]),t._v(" "),s("prompt",{ref:"promptRef",attrs:{tip:t.tip}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"submit"},[e("input",{attrs:{type:"submit",value:"确定"}})])}]};var d=s("Z0/y")(r,n,!1,function(t){s("3usD")},"data-v-48956119",null);e.default=d.exports}});
//# sourceMappingURL=23.699bf10426babc7a49e5.js.map