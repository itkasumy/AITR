webpackJsonp([27],{hsdw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("3/Gx"),o=s("0azi"),n=s("zZ4r"),r=s("2sCs"),i=s.n(r),l=s("sC4j"),d={data:function(){return{title:"",walletData:{consumptionCoin:0,crowdfundingCoin:0,earningsCoin:0,reconstructionCoin:0,registerCoin:0,splitCoin:0},showSafeCodeAlert:!1,safeCode:null,alertStyle:{height:".8rem",width:"6.293333rem",color:"#ABABAB",border:".013333rem solid #CCCCCC",fontSzie:".32rem",paddingLeft:".133333rem"},transformInfo:{userId:null,coinNum:null},showTip:!1,tip:""}},created:function(){var t=this,e=parseInt(this.$route.params.typeid);0===e?this.title="注册币":1===e&&(this.title="收益币"),i.a.get(n.b,{headers:Object(n.f)()}).then(function(e){console.log(e),0===e.data.code&&(t.walletData=e.data.result)})},components:{HeadMenu:a.a,GAlert:l.a,Prompt:o.a},methods:{callbackUrl:function(){this.$router.go(-1)},safeCodeOptions:function(t){var e=this;if(console.log(t),this.showSafeCodeAlert=!1,"cancal"===t);else{if(!this.safeCode)return this.tip="安全码不能为空",void this.$refs.promptAlert.show();console.log("你输入的安全码是"+this.safeCode);var s=new URLSearchParams;s.append("safe_pwd",this.safeCode),i.a.post(n.a,s,{headers:Object(n.f)()}).then(function(t){if(console.log(t.data),0===t.data.code){var s=t.data.result.safePwdToken,a=null;"注册币"===e.title?a=n.o:"收益币"===e.title&&(a=n.n);var o=new URLSearchParams;o.append("transfer_account",e.transformInfo.userId),o.append("amount",parseInt(e.transformInfo.coinNum)),o.append("safe_pwd_token",s),i.a.post(a,o,{headers:Object(n.f)()}).then(function(t){if(console.log(t),0===t.data.code)e.tip="转账成功",e.$refs.promptAlert.show(),e.$router.push("/coininfo/"+e.$route.params.typeid);else{if(40009===t.data.code)return e.tip="输入的会员编号不存在",void e.$refs.promptAlert.show();e.tip="转账失败",e.$refs.promptAlert.show()}})}else e.safeCode="",e.tip="安全码输入错误",e.$refs.promptAlert.show()})}},comfirmTransfer:function(){return this.transformInfo.userId?this.transformInfo.coinNum?this.transformInfo.coinNum.includes("-")||this.transformInfo.coinNum.includes(".")?(this.tip="转出积分数量不能为负数或者0或者小数",void this.$refs.promptAlert.show()):parseInt(this.transformInfo.coinNum)>=1e8?(this.tip="转出积分数量不能超出1亿",void this.$refs.promptAlert.show()):void(this.showSafeCodeAlert=!0):(this.tip="转出积分数量不能为空",void this.$refs.promptAlert.show()):(this.tip="会员编号不能为空",void this.$refs.promptAlert.show())}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"earning-transfer"},[a("head-menu"),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"top"},[a("span",[t._v(t._s(t.title)+"转账")])]),t._v(" "),a("div",{staticClass:"center"},[a("div",{staticClass:"tips"},[t._v("\n\t\t\t\t注册币余额:\n\t\t\t")]),t._v(" "),a("div",{staticClass:"values"},[t._v("\n\t\t\t\t"+t._s(t.walletData.registerCoin)+"\n\t\t\t")]),t._v(" "),a("div",{staticClass:"tips"},[t._v("\n\t\t\t\t收益币余额:\n\t\t\t")]),t._v(" "),a("div",{staticClass:"values"},[t._v("\n\t\t\t\t"+t._s(t.walletData.earningsCoin)+"\n\t\t\t")]),t._v(" "),a("div",{staticClass:"tips"},[t._v("\n\t\t\t\t转出积分类型:\n\t\t\t")]),t._v(" "),a("div",{staticClass:"values other"},[a("span",[t._v(t._s(t.title)+" -> 注册币")]),t._v(" "),a("img",{attrs:{src:s("T2RY"),alt:""}})]),t._v(" "),a("div",{staticClass:"tips"},[t._v("\n\t\t\t\t接收会员编号:\n\t\t\t")]),t._v(" "),a("div",{staticClass:"valuess"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transformInfo.userId,expression:"transformInfo.userId"}],attrs:{type:"text",placeholder:"输入收款会员编号"},domProps:{value:t.transformInfo.userId},on:{input:function(e){e.target.composing||t.$set(t.transformInfo,"userId",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"tips"},[t._v("\n\t\t\t\t转让积分数量:\n\t\t\t")]),t._v(" "),a("div",{staticClass:"valuess"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transformInfo.coinNum,expression:"transformInfo.coinNum"}],attrs:{type:"number",placeholder:"转入转出积分数量"},domProps:{value:t.transformInfo.coinNum},on:{input:function(e){e.target.composing||t.$set(t.transformInfo,"coinNum",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"bottom"},[a("span",{staticClass:"back",on:{click:t.callbackUrl}},[t._v("返回")]),t._v(" "),a("span",{staticClass:"oks",on:{click:t.comfirmTransfer}},[t._v("确定")])])]),t._v(" "),a("g-alert",{directives:[{name:"show",rawName:"v-show",value:t.showSafeCodeAlert,expression:"showSafeCodeAlert"}],on:{options:t.safeCodeOptions}},[a("div",{staticClass:"tipss"},[t._v("\n\t\t\t输入安全码\n\t\t")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.safeCode,expression:"safeCode"}],style:t.alertStyle,attrs:{type:"password",placeholder:"输入您的安全码"},domProps:{value:t.safeCode},on:{input:function(e){e.target.composing||(t.safeCode=e.target.value)}}})])]),t._v(" "),a("prompt",{ref:"promptAlert",attrs:{tip:t.tip}})],1)},staticRenderFns:[]};var p=s("Z0/y")(d,c,!1,function(t){s("weDG")},"data-v-2731ef40",null);e.default=p.exports},weDG:function(t,e){}});
//# sourceMappingURL=27.a6426fcaf66d938b7a35.js.map