webpackJsonp([4],{CVwF:function(t,s){},M5Ej:function(t,s,e){"use strict";var i=e("0azi"),r=e("JBQq"),a={data:function(){return{numbers:0,prices:0,tip:"",balance:{}}},components:{Prompt:i.a},props:{types:{type:String,value:"buy"},price:{type:Number,value:0},number:{type:Number,value:""}},methods:{submits:function(){return this.numbers?this.numbers>this.balance.balance?(this.tip="余额不足",void this.$refs.promptRef.show()):this.numbers<0?(this.tip="卖出量不能为负数",void this.$refs.promptRef.show()):this.numbers>1e8||this.numbers<=0?(this.tip="请输入0-100000000之间的数字",void this.$refs.promptRef.show()):/^\d{1,8}(\.\d{0,8})?$/.test(this.numbers)?(this.tip="暂未开放",void this.$refs.promptRef.show()):(this.tip="卖出量最多只能输入8位小数",void this.$refs.promptRef.show()):(this.tip="卖出量不能为空",void this.$refs.promptRef.show())},buyNum:function(t){t?t>this.balance.balance?(this.tip="余额不足",this.$refs.promptRef.show(),this.numbers=this.balance.balance):t<0?(this.tip="卖出量不能为负数",this.$refs.promptRef.show()):t>1e8||t<=0?(this.tip="请输入0-100000000之间的数字",this.$refs.promptRef.show()):/^\d{1,8}(\.\d{0,8})?$/.test(t)||(this.tip="卖出量最多只能输入8位小数",this.$refs.promptRef.show()):(this.tip="卖出量不能为空",this.$refs.promptRef.show())},checkBalance:function(){var t=this;Object(r.d)().then(function(s){0===s.data.code&&(t.balance=s.data.result.filter(function(t){return"ETH"===t.currencyName})[0])})}},mounted:function(){this.checkBalance()},computed:{typess:function(){return"buy"===this.types?"立刻买入":"立刻卖出"}},watch:{price:function(){this.prices=this.price}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"trad-price"},[e("form",{attrs:{action:""},on:{submit:function(s){s.preventDefault(),t.submits(s)}}},[e("div",{staticClass:"text"},[e("span",[t._v(t._s("buy"===t.types?"买入价":"卖出价"))])]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.prices,expression:"prices"}],staticClass:"buy-inp-price",class:{buypart:"buy"===t.types,sellpart:"sell"===t.types},attrs:{type:"text",placeholder:{price:t.price},disabled:""},domProps:{value:t.prices},on:{input:function(s){s.target.composing||(t.prices=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"text"},[e("span",[t._v(t._s("buy"===t.types?"买入量":"卖出量"))])]),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.numbers,expression:"numbers"}],staticClass:"buy-inp-num",class:{buypart:"buy"===t.types,sellpart:"sell"===t.types},attrs:{type:"number",placeholder:"0"},domProps:{value:t.numbers},on:{blur:function(s){t.buyNum(t.numbers)},input:function(s){s.target.composing||(t.numbers=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"total"},[e("span",[t._v("合计: ")]),e("span",{style:{color:"buy"===t.types?"#FFAE11":"#4A90E2"}},[t._v(" "+t._s(t.numbers*t.prices)+" ")]),e("span",[t._v(" USDT")])]),t._v(" "),e("div",{staticClass:"submits"},[e("input",{ref:"submit",staticClass:"submit",style:{background:"buy"===t.types?"#FFAE11":"#4A90E2"},attrs:{type:"submit"},domProps:{value:t.typess}})])]),t._v(" "),e("prompt",{ref:"promptRef",attrs:{tip:t.tip}})],1)},staticRenderFns:[]};var o=e("Z0/y")(a,n,!1,function(t){e("CVwF")},"data-v-d3ac4ad2",null);s.a=o.exports},SzJ4:function(t,s){},WKvh:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("jkTI"),r=e("M5Ej"),a=e("sC4j"),n=e("zZ4r"),o=e("JBQq"),c={data:function(){return{isShowDialog:!1,historyData:{code:0,msg:"SUCCESS",result:{count:2,list:[{currencyId:2,number:2,totalPrice:2144,type:1,unitPrice:1072,orderNo:"1517066698355"},{currencyId:2,number:2,totalPrice:2155,type:0,unitPrice:1077.5,orderNo:"1517066698355"}],pageNum:1,pageSize:5}},types:"sell",price:0,numbers:0}},created:function(){this.getNewPrc();var t=this;setInterval(function(){t.getNewPrc()},5e3)},components:{GTradHistory:i.a,GTradPart:r.a,GAlert:a.a},methods:{options:function(t){console.log(t),"oks"===t&&Object(o.i)().then(function(t){console.log(t)}),this.isShowDialog=!1},tradClick:function(t){this.isShowDialog=!0,this.numbers=parseFloat(t.number)},getNewPrc:function(){var t=this;Object(n.c)().then(function(s){t.price=s.data.data[0].close})}}},p={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("g-trad-part",{attrs:{types:t.types,price:t.price},on:{tradClick:t.tradClick}}),t._v(" "),e("g-trad-history",{attrs:{types:t.types,historydata:t.historyData.result.list}}),t._v(" "),t.isShowDialog?e("g-alert",{on:{options:t.options}},[e("div",{staticClass:"tipss"},[t._v("\n\t\t\t\t确定订单\n\t\t\t")]),t._v(" "),e("div",{staticClass:"tips"},[t._v("\n\t\t\t\t您将"+t._s("sell"===t.types?"卖出":"买入")+"ETH "+t._s(t.numbers)+"\n\t\t\t")])]):t._e()],1)},staticRenderFns:[]};var u=e("Z0/y")(c,p,!1,function(t){e("WvJc")},"data-v-0b31de51",null);s.default=u.exports},WvJc:function(t,s){},jkTI:function(t,s,e){"use strict";var i={props:{types:{type:String,value:"buy"},historydata:{type:Array,value:[]}},created:function(){}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"trad-history"},[e("div",{staticClass:"tips"},[t._v("最近兑换记录")]),t._v(" "),e("div",{staticClass:"history-content"},[e("ul",t._l(t.historydata,function(s,i){return e("li",{key:i},[e("div",{staticClass:"order-no",class:{buypart:"buy"===t.types,sellpart:"sell"===t.types}},[e("span",[t._v("订单号:"+t._s(s.orderNo))]),t._v(" "),1==s.type?e("span",{staticClass:"order-buy"},[t._v("卖出")]):e("span",{staticClass:"order-sell"},[t._v("买入")])]),t._v(" "),e("div",{staticClass:"order-price"},[e("span",[t._v("单价 : "+t._s(s.unitPrice))]),t._v(" "),e("span",[t._v("总价 : "+t._s(s.totalPrice))])]),t._v(" "),e("div",{staticClass:"order-price"},[e("span",[t._v("数量 : "+t._s(s.number))]),t._v(" "),e("span",[t._v("交易完成")])])])}))])])},staticRenderFns:[]};var a=e("Z0/y")(i,r,!1,function(t){e("SzJ4")},"data-v-72993962",null);s.a=a.exports}});
//# sourceMappingURL=4.8a45f45aefd195959186.js.map